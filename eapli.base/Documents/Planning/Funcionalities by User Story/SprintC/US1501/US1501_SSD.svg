<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1009.6px" preserveAspectRatio="none" style="width:1343px;height:1009px;background:#FFFFFF;" version="1.1" viewBox="0 0 1343 1009" width="1343.2px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="850.6" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="41.6" y="74.0875"/><rect fill="#FFFFFF" height="832.7188" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="276.8" y="91.9688"/><rect fill="#FFFFFF" height="72.8438" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="395.2" y="116.25"/><rect fill="#FFFFFF" height="711.3125" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="502.8" y="213.375"/><rect fill="#FFFFFF" height="72.8438" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="669.2" y="237.6563"/><rect fill="#FFFFFF" height="121.125" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="669.2" y="403.625"/><rect fill="#FFFFFF" height="96.8438" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="669.2" y="623.475"/><rect fill="#FFFFFF" height="96.8438" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="669.2" y="750.2"/><rect fill="#FFFFFF" height="53.3625" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="669.2" y="871.325"/><rect fill="#FFFFFF" height="675.55" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="887.6" y="261.9375"/><rect fill="#FFFFFF" height="48.2813" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="1054" y="452.1875"/><rect fill="#FFFFFF" height="48.2813" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="1054" y="672.0375"/><rect fill="#FFFFFF" height="48.2813" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="1054" y="798.7625"/><rect fill="#FFFFFF" height="24" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="1200" y="476.4688"/><rect fill="#FFFFFF" height="24" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="1200" y="823.0438"/><rect fill="#FFFFFF" height="24" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="1296.8" y="696.3188"/><rect height="208.65" style="stroke:#000000;stroke-width:1.2000000000000002;fill:none;" width="1262.8" x="8" y="322.5"/><rect height="184.3688" style="stroke:#000000;stroke-width:1.2000000000000002;fill:none;" width="1330.8" x="8" y="542.35"/><line style="stroke:#181818;stroke-width:0.4000000000000001;fill:none;stroke-dasharray:5.0,5.0;" x1="45.6" x2="45.6" y1="66.0875" y2="944.6875"/><line style="stroke:#181818;stroke-width:0.4000000000000001;fill:none;stroke-dasharray:5.0,5.0;" x1="280.4" x2="280.4" y1="66.0875" y2="944.6875"/><line style="stroke:#181818;stroke-width:0.4000000000000001;fill:none;stroke-dasharray:5.0,5.0;" x1="398.8" x2="398.8" y1="66.0875" y2="944.6875"/><line style="stroke:#181818;stroke-width:0.4000000000000001;fill:none;stroke-dasharray:5.0,5.0;" x1="506.8" x2="506.8" y1="66.0875" y2="944.6875"/><line style="stroke:#181818;stroke-width:0.4000000000000001;fill:none;stroke-dasharray:5.0,5.0;" x1="672.8" x2="672.8" y1="66.0875" y2="944.6875"/><line style="stroke:#181818;stroke-width:0.4000000000000001;fill:none;stroke-dasharray:5.0,5.0;" x1="891.2" x2="891.2" y1="66.0875" y2="944.6875"/><line style="stroke:#181818;stroke-width:0.4000000000000001;fill:none;stroke-dasharray:5.0,5.0;" x1="1058" x2="1058" y1="66.0875" y2="944.6875"/><line style="stroke:#181818;stroke-width:0.4000000000000001;fill:none;stroke-dasharray:5.0,5.0;" x1="1203.6" x2="1203.6" y1="66.0875" y2="944.6875"/><line style="stroke:#181818;stroke-width:0.4000000000000001;fill:none;stroke-dasharray:5.0,5.0;" x1="1300.4" x2="1300.4" y1="66.0875" y2="944.6875"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="54.4" x="16" y="63.6266">SalesClerk</text><ellipse cx="45.6" cy="10.8" fill="#E2E2F0" rx="6.4" ry="6.4" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M45.6,17.2 L45.6,38.8 M35.2,23.6 L56,23.6 M45.6,38.8 L35.2,50.8 M45.6,38.8 L56,50.8 " fill="none" style="stroke:#181818;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="54.4" x="16" y="955.5141">SalesClerk</text><ellipse cx="45.6" cy="964.775" fill="#E2E2F0" rx="6.4" ry="6.4" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M45.6,971.175 L45.6,992.775 M35.2,977.575 L56,977.575 M45.6,992.775 L35.2,1004.775 M45.6,992.775 L56,1004.775 " fill="none" style="stroke:#181818;stroke-width:0.4000000000000001;"/><rect fill="#E2E2F0" height="25.2875" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="140" x="210.8" y="40"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="128.8" x="216.4" y="57.2266">:AddProductToCartAction</text><rect fill="#E2E2F0" height="25.2875" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="140" x="210.8" y="943.8875"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="128.8" x="216.4" y="961.1141">:AddProductToCartAction</text><rect fill="#E2E2F0" height="25.2875" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="80.8" x="358.8" y="40"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="69.6" x="364.4" y="57.2266">:ListProductUI</text><rect fill="#E2E2F0" height="25.2875" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="80.8" x="358.8" y="943.8875"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="69.6" x="364.4" y="961.1141">:ListProductUI</text><rect fill="#E2E2F0" height="25.2875" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="118.4" x="447.6" y="40"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="107.2" x="453.2" y="57.2266">:AddProductToCartUI</text><rect fill="#E2E2F0" height="25.2875" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="118.4" x="447.6" y="943.8875"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="107.2" x="453.2" y="961.1141">:AddProductToCartUI</text><rect fill="#E2E2F0" height="25.2875" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="127.2" x="609.6" y="40"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="116" x="615.2" y="57.2266">:OrderServerController</text><rect fill="#E2E2F0" height="25.2875" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="127.2" x="609.6" y="943.8875"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="116" x="615.2" y="961.1141">:OrderServerController</text><rect fill="#E2E2F0" height="25.2875" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="77.6" x="852.8" y="40"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="66.4" x="858.4" y="57.2266">:OrderServer</text><rect fill="#E2E2F0" height="25.2875" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="77.6" x="852.8" y="943.8875"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="66.4" x="858.4" y="961.1141">:OrderServer</text><rect fill="#E2E2F0" height="25.2875" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="158.4" x="978.8" y="40"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="147.2" x="984.4" y="57.2266">:AddProductToCartController</text><rect fill="#E2E2F0" height="25.2875" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="158.4" x="978.8" y="943.8875"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="147.2" x="984.4" y="961.1141">:AddProductToCartController</text><rect fill="#E2E2F0" height="25.2875" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="117.6" x="1145.2" y="40"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="106.4" x="1150.8" y="57.2266">:CustomerRepository</text><rect fill="#E2E2F0" height="25.2875" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="117.6" x="1145.2" y="943.8875"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="106.4" x="1150.8" y="961.1141">:CustomerRepository</text><rect fill="#E2E2F0" height="25.2875" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="60" x="1270.8" y="40"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="48.8" x="1276.4" y="57.2266">Customer</text><rect fill="#E2E2F0" height="25.2875" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="60" x="1270.8" y="943.8875"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="48.8" x="1276.4" y="961.1141">Customer</text><rect fill="#FFFFFF" height="850.6" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="41.6" y="74.0875"/><rect fill="#FFFFFF" height="832.7188" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="276.8" y="91.9688"/><rect fill="#FFFFFF" height="72.8438" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="395.2" y="116.25"/><rect fill="#FFFFFF" height="711.3125" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="502.8" y="213.375"/><rect fill="#FFFFFF" height="72.8438" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="669.2" y="237.6563"/><rect fill="#FFFFFF" height="121.125" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="669.2" y="403.625"/><rect fill="#FFFFFF" height="96.8438" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="669.2" y="623.475"/><rect fill="#FFFFFF" height="96.8438" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="669.2" y="750.2"/><rect fill="#FFFFFF" height="53.3625" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="669.2" y="871.325"/><rect fill="#FFFFFF" height="675.55" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="887.6" y="261.9375"/><rect fill="#FFFFFF" height="48.2813" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="1054" y="452.1875"/><rect fill="#FFFFFF" height="48.2813" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="1054" y="672.0375"/><rect fill="#FFFFFF" height="48.2813" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="1054" y="798.7625"/><rect fill="#FFFFFF" height="24" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="1200" y="476.4688"/><rect fill="#FFFFFF" height="24" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="1200" y="823.0438"/><rect fill="#FFFFFF" height="24" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="1296.8" y="696.3188"/><polygon fill="#181818" points="267.2,88.7688,275.2,91.9688,267.2,95.1688,270.4,91.9688" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="49.6" x2="272" y1="91.9688" y2="91.9688"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="55.2" y="88.0836">1</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="203.2" x="64" y="88.0836">Requests to add a product to Shopping Cart</text><polygon fill="#181818" points="385.6,113.05,393.6,116.25,385.6,119.45,388.8,116.25" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="284.8" x2="390.4" y1="116.25" y2="116.25"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="290.4" y="112.3648">2</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="43.2" x="299.2" y="112.3648">doShow()</text><polygon fill="#181818" points="58.4,137.3313,50.4,140.5313,58.4,143.7313,55.2,140.5313" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="53.6" x2="394.4" y1="140.5313" y2="140.5313"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="63.2" y="136.6461">3</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="200" x="72" y="136.6461">Show options to sort by (category or brand)</text><polygon fill="#181818" points="385.6,161.6125,393.6,164.8125,385.6,168.0125,388.8,164.8125" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="49.6" x2="390.4" y1="164.8125" y2="164.8125"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="55.2" y="160.9273">4</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="116" x="64" y="160.9273">Enters one of the options</text><polygon fill="#181818" points="58.4,185.8938,50.4,189.0938,58.4,192.2938,55.2,189.0938" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="53.6" x2="398.4" y1="189.0938" y2="189.0938"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="63.2" y="185.2086">5</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="87.2" x="72" y="185.2086">Shows the Catalog</text><polygon fill="#181818" points="493.2,210.175,501.2,213.375,493.2,216.575,496.4,213.375" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="284.8" x2="498" y1="213.375" y2="213.375"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="290.4" y="209.4898">6</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="43.2" x="299.2" y="209.4898">doShow()</text><polygon fill="#181818" points="659.6,234.4563,667.6,237.6563,659.6,240.8563,662.8,237.6563" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="510.8" x2="664.4" y1="237.6563" y2="237.6563"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="516.4" y="233.7711">7</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="100" x="525.2" y="233.7711">establishConnection()</text><polygon fill="#181818" points="878,258.7375,886,261.9375,878,265.1375,881.2,261.9375" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="677.2" x2="882.8" y1="261.9375" y2="261.9375"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="682.8" y="258.0523">8</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="131.2" x="691.6" y="258.0523">establishOrdersConnection()</text><polygon fill="#181818" points="686,283.0188,678,286.2188,686,289.4188,682.8,286.2188" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="681.2" x2="886.8" y1="286.2188" y2="286.2188"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="690.8" y="282.3336">9</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="37.6" x="699.6" y="282.3336">accept()</text><polygon fill="#181818" points="519.6,307.3,511.6,310.5,519.6,313.7,516.4,310.5" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="514.8" x2="672.4" y1="310.5" y2="310.5"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="524.4" y="306.6148">10</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="116" x="538.8" y="306.6148">"Connection established"</text><path d="M8,322.5 L66.4,322.5 L66.4,329.1813 L58.4,337.1813 L8,337.1813 L8,322.5 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.2000000000000002;"/><rect fill="none" height="208.65" style="stroke:#000000;stroke-width:1.2000000000000002;" width="1262.8" x="8" y="322.5"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="22.4" x="20" y="334.0961">loop</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="104" x="78.4" y="333.2352">[while data is incorrect]</text><polygon fill="#181818" points="58.4,351.8625,50.4,355.0625,58.4,358.2625,55.2,355.0625" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="53.6" x2="502" y1="355.0625" y2="355.0625"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="63.2" y="351.1773">11</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="109.6" x="77.6" y="351.1773">Asks for Customer VAT</text><polygon fill="#181818" points="493.2,376.1438,501.2,379.3438,493.2,382.5438,496.4,379.3438" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="49.6" x2="498" y1="379.3438" y2="379.3438"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="55.2" y="375.4586">12</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="120" x="69.6" y="375.4586">Enters the requested data</text><polygon fill="#181818" points="659.6,400.425,667.6,403.625,659.6,406.825,662.8,403.625" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="510.8" x2="664.4" y1="403.625" y2="403.625"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="516.4" y="399.7398">13</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="128.8" x="530.8" y="399.7398">validateCustomer(customer)</text><polygon fill="#181818" points="878,424.7063,886,427.9063,878,431.1063,881.2,427.9063" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="677.2" x2="882.8" y1="427.9063" y2="427.9063"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="682.8" y="424.0211">14</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="174.4" x="697.2" y="424.0211">sendMessage(version,code,message)</text><polygon fill="#181818" points="1044.4,448.9875,1052.4,452.1875,1044.4,455.3875,1047.6,452.1875" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="895.6" x2="1049.2" y1="452.1875" y2="452.1875"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="901.2" y="448.3023">15</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="128.8" x="915.6" y="448.3023">validateCustomer(customer)</text><polygon fill="#181818" points="1190.4,473.2688,1198.4,476.4688,1190.4,479.6688,1193.6,476.4688" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="1062" x2="1195.2" y1="476.4688" y2="476.4688"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="1067.6" y="472.5836">16</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="91.2" x="1082" y="472.5836">ofIdentity(customer)</text><polygon fill="#181818" points="682,521.55,674,524.75,682,527.95,678.8,524.75" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="677.2" x2="886.8" y1="524.75" y2="524.75"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="686.8" y="520.8648">17</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="176.8" x="701.2" y="520.8648">WriteMessage(version,code,message)</text><path d="M8,542.35 L66.4,542.35 L66.4,549.0313 L58.4,557.0313 L8,557.0313 L8,542.35 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.2000000000000002;"/><rect fill="none" height="184.3688" style="stroke:#000000;stroke-width:1.2000000000000002;" width="1330.8" x="8" y="542.35"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="22.4" x="20" y="553.9461">loop</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="152" x="78.4" y="553.0852">[while user wants more products]</text><polygon fill="#181818" points="58.4,571.7125,50.4,574.9125,58.4,578.1125,55.2,574.9125" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="53.6" x2="502" y1="574.9125" y2="574.9125"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="63.2" y="571.0273">18</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="203.2" x="77.6" y="571.0273">Asks for the Product to Add and its quantity</text><polygon fill="#181818" points="493.2,595.9938,501.2,599.1938,493.2,602.3938,496.4,599.1938" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="49.6" x2="498" y1="599.1938" y2="599.1938"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="55.2" y="595.3086">19</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="120" x="69.6" y="595.3086">Enters the requested data</text><polygon fill="#181818" points="659.6,620.275,667.6,623.475,659.6,626.675,662.8,623.475" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="510.8" x2="664.4" y1="623.475" y2="623.475"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="516.4" y="619.5898">20</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="124.8" x="530.8" y="619.5898">addProduct(name,quantity)</text><polygon fill="#181818" points="878,644.5563,886,647.7563,878,650.9563,881.2,647.7563" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="677.2" x2="882.8" y1="647.7563" y2="647.7563"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="682.8" y="643.8711">21</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="174.4" x="697.2" y="643.8711">sendMessage(version,code,message)</text><polygon fill="#181818" points="1044.4,668.8375,1052.4,672.0375,1044.4,675.2375,1047.6,672.0375" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="895.6" x2="1049.2" y1="672.0375" y2="672.0375"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="901.2" y="668.1523">22</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="128" x="915.6" y="668.1523">addProduct(name, quantity)</text><polygon fill="#181818" points="1287.2,693.1188,1295.2,696.3188,1287.2,699.5188,1290.4,696.3188" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="1062" x2="1292" y1="696.3188" y2="696.3188"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="1067.6" y="692.4336">23</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="138.4" x="1082" y="692.4336">AddProduct(product, quantity)</text><polygon fill="#181818" points="659.6,747,667.6,750.2,659.6,753.4,662.8,750.2" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="510.8" x2="664.4" y1="750.2" y2="750.2"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="516.4" y="746.3148">24</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="46.4" x="530.8" y="746.3148">saveCart()</text><polygon fill="#181818" points="878,771.2813,886,774.4813,878,777.6813,881.2,774.4813" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="677.2" x2="882.8" y1="774.4813" y2="774.4813"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="682.8" y="770.5961">25</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="174.4" x="697.2" y="770.5961">sendMessage(version,code,message)</text><polygon fill="#181818" points="1044.4,795.5625,1052.4,798.7625,1044.4,801.9625,1047.6,798.7625" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="895.6" x2="1049.2" y1="798.7625" y2="798.7625"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="901.2" y="794.8773">26</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="46.4" x="915.6" y="794.8773">saveCart()</text><polygon fill="#181818" points="1190.4,819.8438,1198.4,823.0438,1190.4,826.2438,1193.6,823.0438" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="1062" x2="1195.2" y1="823.0438" y2="823.0438"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="1067.6" y="819.1586">27</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="70.4" x="1082" y="819.1586">save(customer)</text><polygon fill="#181818" points="659.6,868.125,667.6,871.325,659.6,874.525,662.8,871.325" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="510.8" x2="664.4" y1="871.325" y2="871.325"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="516.4" y="867.4398">28</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="56.8" x="530.8" y="867.4398">disconnect()</text><polygon fill="#181818" points="878,892.4063,886,895.6063,878,898.8063,881.2,895.6063" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="677.2" x2="882.8" y1="895.6063" y2="895.6063"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="682.8" y="891.7211">29</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="174.4" x="697.2" y="891.7211">sendMessage(version,code,message)</text><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="895.6" x2="929.2" y1="923.8875" y2="923.8875"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="929.2" x2="929.2" y1="923.8875" y2="934.2875"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="891.6" x2="929.2" y1="934.2875" y2="934.2875"/><polygon fill="#181818" points="899.6,931.0875,891.6,934.2875,899.6,937.4875,896.4,934.2875" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="901.2" y="920.0023">30</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="52" x="915.6" y="920.0023">skt.close();</text><!--MD5=[42cf439451d19711edc2f1ec419c96ad]
@startuml
autonumber
actor SalesClerk as Admin
participant ":AddProductToCartAction" as Action
participant ":ListProductUI" as UI2
participant ":AddProductToCartUI" as UI
participant ":OrderServerController" as ServerController
participant ":OrderServer" as Server
participant ":AddProductToCartController" as Controller
participant ":CustomerRepository" as CR


activate Admin
Admin -> Action: Requests to add a product to Shopping Cart
activate Action
Action ->UI2: doShow()
activate UI2
UI2 - -> Admin: Show options to sort by (category or brand)
Admin -> UI2: Enters one of the options
UI2 - -> Admin: Shows the Catalog
deactivate UI2
Action ->UI: doShow()
activate UI
UI->ServerController:establishConnection()
activate ServerController
ServerController->Server:establishOrdersConnection()
activate Server
Server->ServerController: accept()
ServerController->UI:"Connection established"
deactivate ServerController
loop while data is incorrect
UI- ->Admin: Asks for Customer VAT
Admin -> UI: Enters the requested data
UI->ServerController:validateCustomer(customer)
activate ServerController
ServerController->Server:sendMessage(version,code,message)
Server->Controller:validateCustomer(customer)
activate Controller
Controller->CR:ofIdentity(customer)
activate CR
deactivate CR
deactivate Controller
Server->ServerController:WriteMessage(version,code,message)
deactivate ServerController
end
loop while user wants more products
UI- ->Admin: Asks for the Product to Add and its quantity
Admin -> UI: Enters the requested data
UI->ServerController:addProduct(name,quantity)
activate ServerController
ServerController->Server:sendMessage(version,code,message)
Server->Controller:addProduct(name, quantity)
activate Controller
Controller -> Customer: AddProduct(product, quantity)
activate Customer
deactivate Customer
deactivate Controller
deactivate ServerController
end
UI->ServerController: saveCart()
activate ServerController
ServerController->Server:sendMessage(version,code,message)
Server->Controller:saveCart()
activate Controller
Controller->CR:save(customer)
activate CR
deactivate CR
deactivate Controller
deactivate ServerController
UI->ServerController:disconnect()
activate ServerController
ServerController->Server:sendMessage(version,code,message)
Server->Server:skt.close();
deactivate ServerController
deactivate UI
deactivate Action
deactivate Admin

@enduml

PlantUML version 1.2022.4(Sat Apr 09 14:29:17 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>